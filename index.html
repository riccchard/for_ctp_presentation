<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title> CTP431 Final Project 20130115 </title>
	</head>
	<style>
		p{
			text-indent: 5px;
			margin: 0px;
		}
		#content{
			width:100%;
			max-width: 800px;
			align-self: center;
		}
		img{
			width:100%;
			max-width: 800px
		}
	</style>
	<body>
	<div id="box" align="center">
	<div id="content">
		<div align="center">
			<h1> CTP431 Final Project 20130115 </h1>
			<h2> Music-Cam React Machine (MCRM) </h2>
		</div>
		<br>
		<div align="left">
			<h2> 1. Introduction </h2>
			<p> I love listening music, especially, when i use public transportation. If I'm in wifi-zone or have a lot of LTE data, there will be so many things to do with my iPhone. For example, Youtube, Facebook and web surfing. However, without internet I just listen to music, and sometimes it's boring. I want to do something cool with my favorite musics. This project starts at this point. </p>
			<img src="MCRM.jpg" style="width:100%,max-width:800px">
			<br>

			<h2> 2. Components </h2>
				<h3 style="margin:0px"><ul style="margin:0px">
					<li> File uploader </li>
				</ul></h3>
				<p> Here you upload your music or video. After uploading, MCRM will automatically detect bpm of your file. </p>
				<br>

				<h3 style="margin:0px"><ul style="margin:0px">
					<li> Count number </li>
				</ul></h3>
				<p> You can modify count number. This number is needed when MCRM change filter. If count number is 4, MCRM will reselect a filter after every 4th beat. After change number, you should click 'Count Rest' button. It will reset a filter and counting. </p>
				<br>

				<h3 style="margin:0px"><ul style="margin:0px">
					<li> Kick Threshold </li>
				</ul></h3>
				<p> MCRM detect kick sound with amplitude of 88Hz frequency band. If kick threshold is -25dB, MCRM will recognize kick sound when 88Hz frequency band has more than -25dB. You can adjust this value to suit your music. </p>
				<br>

				<h3 style="margin:0px"><ul style="margin:0px">
					<li> Visualizer </li>
				</ul></h3>
				<p> Visualizer has 8 frequency bands. Starting at bottom-left, frequency increases in clock-wise. This visualizer has user interaction. If you click anywhere in visualizer boundary, audio will get peaking filter. Thus, you can boost bass or vocal or something with your mouse click and drag. </p>
				<br>

				<h3 style="margin:0px"><ul style="margin:0px">
					<li> Camera / Video </li>
				</ul></h3>
				<p> Basically it uses your web-cam and shows the screen. In case you upload video, it will show you the video. There are one video context and two canvas context. Back-canvas draw filtered video, and front-canvas draw back-canvas with selected screen number. </p>
				<br>

				<h3 style="margin:0px"><ul style="margin:0px">
					<li> Filters </li>
				</ul></h3>
				<p> There are several filters, so we can apply them to our camera or video. Some filters use basic CSS filter, the others use pixel computation. If you choose more than one filter, MCRM randomly choose one of your choices. </p>
				<br>
				<img src="Filters.jpg" style="width:100%,max-width:800px">
				<p> Clear &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				Brightness &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				Contrast &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				Sepia &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				Sharpen &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				Invert </p>
				<br>
				<img src="Filters2.jpg" style="width:100%,max-width:800px">
				<p> Saturate &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				Sobel &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				Gray &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				Threshold &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				Embossed &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				Freeze </p>
				<br>

			<h2> 3. Codes </h2>
				<ul style="margin:0px">
					<li> index.html </li>
					<li> main.js </li>
					<li> octave_band.js </li>
					<li> hsv2rgb.js </li>
					<li> visualizer.js </li>
					<li> mouse_interact.js </li>
					<li> beat_detect.js </li>
					<li> draw_camera.js </li>
				</ul>

				<br>			

			<h2> 4. Improvement point </h2>
				<h3 style="margin:0px"><ul style="margin:0px">
					<li> Sound detection </li>
				</ul></h3>
				<p> This machine can detect only kick sound. Moreover, it's not clearly working with kind of messy music. I want to upgrade this part, so this program can recognize various instruments with robust algorithm. </p>
				<br>

				<h3 style="margin:0px"><ul style="margin:0px">
					<li> Working on smartphone </li>
				</ul></h3>
				<p> This is web version of my first idea. My final goal is make this machine work on smartphone, so I can play it anywhere, anytime. </p>
				<br>

				<h3 style="margin:0px"><ul style="margin:0px">
					<li> SNOW filter </li>
				</ul></h3>
				<p> Filter is not enough yet. There are lots of camera filters in the world. If we can use 'Snow filter', it will be much more interesting. </p>
				<br>

				<h3 style="margin:0px"><ul style="margin:0px">
					<li> Vine </li>
				</ul></h3>
				<p> Vine has comfortable recording system. We can upload funny, filtered videos including our lives using Vine and MCRM </p>
				<br>

			<h2> 5. References </h2>
				<ul style="margin:0px">
					<li><a href = "http://www.html5canvastutorials.com/advanced/html5-canvas-mouse-coordinates/"> Mouse position </a></li>
					<li><a href = "https://github.com/JMPerez/beats-audio-api"> BPM detection </a></li>
					<li><a href = "https://www.html5rocks.com/en/tutorials/canvas/imagefilters/"> Video filter 1 </a></li>
					<li><a href = "http://html5doctor.com/video-canvas-magic/"> Video filter 2 </a></li>
				</ul>
			<br>
		</div>
		<form action="https://riccchard.github.io/ctp_final/">
		<button id='demo'> Go to Play MCRM</button>
		</form>
	</div>
	</div>
	</body>
</html>